import React, { useState } from 'react';\nimport { Outlet, useLocation } from 'react-router-dom';\nimport Sidebar from './Sidebar';\nimport Header from './Header';\nimport { useAuth } from '../../context/AuthContext';\nimport { useSocket } from '../../context/SocketContext';\n\nconst Layout: React.FC = () => {\n  const [sidebarOpen, setSidebarOpen] = useState(false);\n  const { user } = useAuth();\n  const { isConnected } = useSocket();\n  const location = useLocation();\n\n  // Get page title based on current route\n  const getPageTitle = () => {\n    const path = location.pathname;\n    if (path.includes('dashboard')) return 'Dashboard';\n    if (path.includes('timetable')) return 'Timetable';\n    if (path.includes('free-time')) return 'Free Time Finder';\n    if (path.includes('friends')) return 'Friends';\n    if (path.includes('groups')) return 'Groups';\n    if (path.includes('map')) return 'Map';\n    if (path.includes('events')) return 'Events';\n    if (path.includes('notifications')) return 'Notifications';\n    if (path.includes('profile')) return 'Profile';\n    if (path.includes('settings')) return 'Settings';\n    return 'Student Scheduler';\n  };\n\n  return (\n    <div className=\"h-screen flex overflow-hidden bg-gray-100\">\n      {/* Sidebar */}\n      <Sidebar \n        sidebarOpen={sidebarOpen} \n        setSidebarOpen={setSidebarOpen}\n      />\n\n      {/* Main content area */}\n      <div className=\"flex flex-col w-0 flex-1 overflow-hidden\">\n        {/* Header */}\n        <Header \n          setSidebarOpen={setSidebarOpen}\n          pageTitle={getPageTitle()}\n        />\n\n        {/* Connection status indicator */}\n        {!isConnected && (\n          <div className=\"bg-yellow-50 border-l-4 border-yellow-400 p-4\">\n            <div className=\"flex\">\n              <div className=\"flex-shrink-0\">\n                <svg className=\"h-5 w-5 text-yellow-400\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                  <path fillRule=\"evenodd\" d=\"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\n                </svg>\n              </div>\n              <div className=\"ml-3\">\n                <p className=\"text-sm text-yellow-700\">\n                  You're currently offline. Some features may not work properly.\n                </p>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Page content */}\n        <main className=\"flex-1 relative overflow-y-auto focus:outline-none\">\n          <div className=\"py-6\">\n            <div className=\"max-w-7xl mx-auto px-4 sm:px-6 md:px-8\">\n              <Outlet />\n            </div>\n          </div>\n        </main>\n      </div>\n    </div>\n  );\n};\n\nexport default Layout;
